<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="utf-8">
    <title>Tarot & Suriyayart Ultimate (Fixed & Pro)</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 8 (‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏ï‡∏≤) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏¢‡∏≤‡∏°‡πÅ‡∏¢‡∏Å‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î */
        #yamsamtah .info-grid {
            /* ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ CSS ‡πÉ‡∏ô style.css ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° .info-grid ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ */
            /* ‡πÅ‡∏ï‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π 8 ‡∏à‡∏∞‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô 1 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
            grid-template-columns: 1fr; 
            margin-bottom: 5px;
            display: grid; /* ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ grid */
            gap: 10px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ */
        }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 8 */
        #yamsamtah .prediction-box #yamResultOutput {
            font-size: 2.5rem; 
            font-weight: 700; 
            text-align: center;
            color: #ef4444; 
            line-height: 1.2;
            margin-bottom: 10px;
        }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 8 */
        #yamsamtah .pro-row {
            display: flex; 
            gap: 10px;
        }

        #yamsamtah textarea {
            width: 100%;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #cbd5e1;
            margin-top: 5px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleMenu()"></div>
<header>
  <div class="brand">‚ò∏ ‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏¢‡∏≤‡∏ï‡∏£‡πå</div>
  <button class="menu-btn" onclick="toggleMenu()">‚ò∞ ‡πÄ‡∏°‡∏ô‡∏π</button>
</header>

<nav class="sidebar" id="sidebar">
  <div style="text-align:right; padding:15px; cursor:pointer; color:#94a3b8;" onclick="toggleMenu()">‚úñ ‡∏õ‡∏¥‡∏î</div>
  <a href="#" onclick="showSection('home')" id="link-home" class="active">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (‡∏§‡∏Å‡∏©‡πå‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)</a>
  <a href="#" onclick="showSection('yesno')" id="link-yesno">1Ô∏è‚É£ ‡∏ñ‡∏≤‡∏° ‡πÉ‡∏ä‡πà/‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà</a>
  <a href="#" onclick="showSection('daily')" id="link-daily">2Ô∏è‚É£ ‡∏î‡∏ß‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</a>
  <a href="#" onclick="showSection('general')" id="link-general">3Ô∏è‚É£ ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏¢ 12 ‡∏†‡∏û</a>
  <a href="#" onclick="showSection('binder')" id="link-binder" style="color:#fbbf24;">4Ô∏è‚É£ ‡∏ú‡∏π‡∏Å‡∏î‡∏ß‡∏á‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏¢‡∏≤‡∏ï‡∏£‡πå (‡∏´‡∏•‡∏±‡∏Å)</a>
  <a href="#" onclick="showSection('inthaphat')" id="link-inthaphat" style="color:#d97706;">5Ô∏è‚É£ ‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™-‡∏ö‡∏≤‡∏ó‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</a>
  <a href="#" onclick="showSection('inthaphat_pro')" id="link-inthaphat_pro" style="color:#38bdf8;">6Ô∏è‚É£ ‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™‡∏Ø + ‡∏°‡∏´‡∏≤‡∏ô‡∏ó‡∏µ (Pro)</a>
  <a href="#" onclick="showSection('phichaisongkram')" id="link-phichaisongkram" style="color:#ef4444;">7Ô∏è‚É£ ‡∏î‡∏ß‡∏á‡∏û‡∏¥‡∏ä‡∏±‡∏¢‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°</a>
  
  <a href="#" onclick="showSection('yamsamtah')" id="link-yamsamtah" style="color:#10b981;">8Ô∏è‚É£ ‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏ï‡∏≤ ‚ú®</a>
  </nav>

<div class="container">

  <div id="home" class="app-section active">
    <div style="text-align:center; margin-bottom:20px;">
        <h1 style="color:#fbbf24; font-size:2rem;">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö</h1>
        <p style="color:#94a3b8;">‡∏£‡∏∞‡∏ö‡∏ö‡πÇ‡∏´‡∏£‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏î‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á</p>
    </div>

    <div class="home-card">
       <h2>üï∞Ô∏è ‡∏™‡∏£‡∏∏‡∏õ‡∏§‡∏Å‡∏©‡πå‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô (‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡∏¥‡∏á)</h2>
       <div class="time-display" id="realTime">00:00:00</div>
       <div class="date-display" id="realDate">...</div>
       
       <div class="info-grid">
         <div class="info-item">
           <span class="info-label">üåö ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô / ‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏° (‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏£‡∏¥‡∏á)</span>
           <span class="info-value" id="lunarPhase">...</span>
         </div>
         <div class="info-item">
           <span class="info-label">‚è∞ ‡∏¢‡∏≤‡∏°‡∏≠‡∏±‡∏è‡∏ê‡∏Å‡∏≤‡∏• (‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏µ‡πâ)</span>
           <span class="info-value" id="thaiYam">...</span>
         </div>
         <div class="info-item">
           <span class="info-label">üåï ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå‡πÄ‡∏™‡∏ß‡∏¢‡∏§‡∏Å‡∏©‡πå (‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ)</span>
           <span class="info-value status-good" id="moonRerk">...</span>
         </div>
         <div class="info-item">
           <span class="info-label">‚¨ÜÔ∏è ‡∏§‡∏Å‡∏©‡πå‡∏ö‡∏ô / ‚¨áÔ∏è ‡∏§‡∏Å‡∏©‡πå‡∏•‡πà‡∏≤‡∏á</span>
           <span class="info-value">‡∏ö‡∏ô: <span id="rerkBun">...</span> / ‡∏•‡πà‡∏≤‡∏á: <span id="rerkLa">...</span></span>
         </div>
       </div>
    </div>
  </div>

  <div id="yesno" class="app-section">
    <h2 style="text-align:center; color:#ec4899;">‡∏ñ‡∏≤‡∏°-‡∏ï‡∏≠‡∏ö ‡πÉ‡∏ä‡πà/‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà</h2>
    <button class="big-btn" style="background:#ec4899" onclick="drawYesNo()">üé¥ ‡∏´‡∏¢‡∏¥‡∏ö‡πÑ‡∏û‡πà</button>
    <div id="res-yesno" class="result-box"><span style="color:#999">‡∏£‡∏≠‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢...</span></div>
  </div>

  <div id="daily" class="app-section">
    <h2 style="text-align:center; color:#3b82f6;">‡∏î‡∏ß‡∏á‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</h2>
    <div style="text-align:center; background:#f1f5f9; color:#333; padding:10px; border-radius:8px; margin-bottom:10px;">
       <span id="dailyDate">...</span>
    </div>
    <button class="big-btn" style="background:#3b82f6" onclick="drawDaily()">üîÆ ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô</button>
    <div id="res-daily" class="result-box"><span style="color:#999">‡∏£‡∏≠‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢...</span></div>
  </div>

  <div id="general" class="app-section">
    <h2 style="text-align:center; color:#8b5cf6;">12 ‡∏†‡∏û‡πÄ‡∏£‡∏∑‡∏≠‡∏ô</h2>
    <div id="general-grid" class="house-grid"></div>
  </div>

  <div id="binder" class="app-section">
    <h2 style="text-align:center; color:#fbbf24;">‚≠ê ‡∏ú‡∏π‡∏Å‡∏î‡∏ß‡∏á‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏¢‡∏≤‡∏ï‡∏£‡πå</h2>
    <div class="profile-manager">
      <div style="margin-bottom:15px;">
        <label style="color:#fbbf24;">üìÇ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥:</label>
        <select id="profileList" onchange="loadProfile()" style="margin-top:5px; width:100%;"><option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ --</option></select>
      </div>
      <div class="input-group">
        <input type="text" id="pName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏à‡πâ‡∏≤‡∏ä‡∏∞‡∏ï‡∏≤">
        <input type="number" id="pDay" placeholder="‡∏ß‡∏±‡∏ô">
        <select id="pMonth"><option value="1">‡∏°.‡∏Ñ.</option><option value="2">‡∏Å.‡∏û.</option><option value="3">‡∏°‡∏µ.‡∏Ñ.</option><option value="4">‡πÄ‡∏°.‡∏¢.</option><option value="5">‡∏û.‡∏Ñ.</option><option value="6">‡∏°‡∏¥.‡∏¢.</option><option value="7">‡∏Å.‡∏Ñ.</option><option value="8">‡∏™.‡∏Ñ.</option><option value="9">‡∏Å.‡∏¢.</option><option value="10">‡∏ï.‡∏Ñ.</option><option value="11">‡∏û.‡∏¢.</option><option value="12">‡∏ò.‡∏Ñ.</option></select>
        <input type="number" id="pYear" placeholder="‡∏û.‡∏®.">
        <input type="number" id="pHour" placeholder="‡∏ä‡∏°." value="06">
        <input type="number" id="pMin" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" value="00">
        <button onclick="updateCurrentTime('pHour', 'pMin')" style="background:#4f46e5; color:white; border:none; padding:10px 10px; border-radius:8px; cursor:pointer; margin-top:0;">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
      </div>
      <div class="action-row">
        <button class="save-btn" style="background:#10b981; color:white; border:none; padding:10px; border-radius:6px; cursor:pointer;" onclick="saveProfile()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button style="background:#ef4444; color:white; border:none; padding:10px; border-radius:6px; cursor:pointer;" onclick="deleteProfile()">üóëÔ∏è ‡∏•‡∏ö</button>
      </div>
    </div>
    <button class="big-btn" onclick="runSuriyayart()">üöÄ ‡∏ú‡∏π‡∏Å‡∏î‡∏ß‡∏á & ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢</button>
    <div id="binderResult" style="display:none; margin-top:20px;">
      <h3 style="text-align:center; color:#cbd5e1; font-size:16px;">‡∏î‡∏ß‡∏á‡∏£‡∏≤‡∏®‡∏µ‡∏à‡∏±‡∏Å‡∏£ (‡∏™‡∏∏‡∏£‡∏¥‡∏¢‡∏¢‡∏≤‡∏ï‡∏£‡πå)</h3>
      <div id="zodiacChart" class="zodiac-chart"></div> <div class="prediction-box">
        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #eee; padding-bottom:10px;">
            <b style="color:#b45309; font-size:18px;">üìñ ‡∏û‡∏∑‡πâ‡∏ô‡∏î‡∏ß‡∏á‡∏ä‡∏∞‡∏ï‡∏≤</b>
            <button onclick="toggleSpeech()" style="background:#4f46e5; color:white; border:none; padding:5px 10px; border-radius:15px; cursor:pointer;">üîä ‡∏ü‡∏±‡∏á</button>
        </div>
        <div id="astroText" style="font-size:15px; line-height:1.6; margin-top:10px;"></div>
      </div>
      <h3 style="text-align:center; color:#8b5cf6; margin-top:30px;">üÉè ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏¢‡πÑ‡∏û‡πà‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏†‡∏û</h3>
      <div id="binder-grid" class="house-grid"></div>
    </div>
  </div>

  <div id="inthaphat" class="app-section">
    <h2 style="text-align:center; color:#d97706;">üìú ‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™-‡∏ö‡∏≤‡∏ó‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå</h2>
    <div class="profile-manager" style="border-color:#d97706; text-align:center;">
        <p style="color:#cbd5e1;">(‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π 4)</p>
        
        <label class="pro-label" style="color:#fcd34d; margin-top:10px;">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™</label>
        <div class="pro-row" style="max-width:300px; margin:5px auto; gap:5px;">
          <input id="inthaphatHour" type="number" placeholder="‡∏ä‡∏°." min="0" max="23" value="00" style="text-align:center;">
          <input id="inthaphatMinute" type="number" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" min="0" max="59" value="00" style="text-align:center;">
          <button onclick="updateCurrentTime('inthaphatHour', 'inthaphatMinute')" style="background:#4f46e5; width:auto; padding:10px 15px; margin:0; border-radius:8px;">‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</button>
        </div>

        <button class="big-btn" style="background:#d97706;" onclick="runInthaphat()">üîÆ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢‡∏≠‡∏≤‡∏¢‡∏∏</button>
    </div>
    <div id="inthaphatResult" style="display:none; margin-top:20px;">
        <div class="prediction-box" style="border-left-color:#fbbf24;">
            <div id="inthaphatText" style="margin-bottom:15px;"></div>
            <table class="inthaphat-table">
                <thead><tr><th>‡∏î‡∏≤‡∏ß‡πÄ‡∏™‡∏ß‡∏¢</th><th>‡∏≠‡∏≤‡∏¢‡∏∏ (‡∏õ‡∏µ)</th><th>‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏¢‡∏∏</th></tr></thead>
                <tbody id="inthaphatTableBody"></tbody>
            </table>
        </div>
    </div>
  </div>

  <div id="inthaphat_pro" class="app-section">
    <div class="pro-wrap">
        <div class="pro-card">
          <h1 style="color:#38bdf8;">‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™ & ‡∏°‡∏´‡∏≤‡∏ô‡∏ó‡∏µ ‡πï ‡∏ä‡∏±‡πâ‡∏ô (Pro)</h1>
          <div class="pro-tabs" id="modeTabs">
            <div class="pro-tab active" data-mode="birth">‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î</div>
            <div class="pro-tab" data-mode="transit">‡∏à‡∏£ (‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤)</div>
          </div>
          <div class="pro-grid">
            <div>
              <label class="pro-label">‡∏ß‡∏±‡∏ô ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏û.‡∏®.‡πÄ‡∏Å‡∏¥‡∏î (‡∏î‡∏ß‡∏á‡∏û‡∏∑‡πâ‡∏ô)</label>
              <div class="pro-row">
                <input id="pro-day" type="number" placeholder="‡∏ß‡∏±‡∏ô" min="1" max="31">
                <input id="pro-month" type="number" placeholder="‡πÄ‡∏î‡∏∑‡∏≠‡∏ô" min="1" max="12">
                <input id="pro-year" type="number" placeholder="‡∏û.‡∏®.">
              </div>
              <label class="pro-label">‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏Å‡∏¥‡∏î</label>
              <div class="pro-row">
                <input id="pro-hour" type="number" placeholder="‡∏ä‡∏°." min="0" max="23">
                <input id="pro-minute" type="number" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" min="0" max="59">
              </div>
              <label class="pro-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà</label>
              <input id="pro-place" list="places" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û">
              <datalist id="places"></datalist>
              <input id="uploadCsv" type="file" accept=".csv" style="margin-top:5px;">
              
              <div id="baseTimeControls" style="display:none; margin-top:10px;">
                <label class="pro-label" style="color:#fcd34d;">‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏•‡∏±‡∏Å (Anchor Time) - ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</label>
                <div class="pro-row">
                  <input id="baseDay" type="number" placeholder="‡∏ß‡∏±‡∏ô">
                  <input id="baseMonth" type="number" placeholder="‡πÄ‡∏î‡∏∑‡∏≠‡∏ô">
                  <input id="baseYear" type="number" placeholder="‡∏û.‡∏®.">
                </div>
                <div class="pro-row">
                  <input id="baseHour" type="number" placeholder="‡∏ä‡∏°." min="0" max="23">
                  <input id="baseMinute" type="number" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" min="0" max="59">
                </div>
              </div>

              <div id="offsetControls" style="display:none; margin-top:10px;">
                <label class="pro-label" style="color:#34d399;">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏£ (Offset) ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏•‡∏±‡∏Å</label>
                <div class="pro-row">
                  <input id="offsetDays" type="number" placeholder="‡∏ß‡∏±‡∏ô" value="0">
                  <input id="offsetHours" type="number" placeholder="‡∏ä‡∏°." value="0">
                  <input id="offsetMinutes" type="number" placeholder="‡∏ô‡∏≤‡∏ó‡∏µ" value="0">
                </div>
              </div>
              
              <div class="pro-controls">
                <button onclick="computeInthap()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: ‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™</button>
                <button onclick="computeMahan()">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì: ‡∏°‡∏´‡∏≤‡∏ô‡∏ó‡∏µ ‡πï ‡∏ä‡∏±‡πâ‡∏ô</button>
                <button onclick="downloadSampleCSV()" style="background:#4b5563;">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á CSV</button>
              </div>
            </div>            <div>
              <label class="pro-label">‡∏ú‡∏•‡∏≠‡∏¥‡∏ô‡∏ó‡∏†‡∏≤‡∏™</label>
              <button onclick="copyResult('outInthap')" style="background:#576b91; margin-top:0px; padding:6px; font-size:13px;">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button> 
              <div id="outInthap" class="pro-result">‡∏£‡∏≠‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...</div>
              
              <label class="pro-label" style="margin-top:20px;">‡∏ú‡∏•‡∏°‡∏´‡∏≤‡∏ô‡∏ó‡∏µ ‡πï ‡∏ä‡∏±‡πâ‡∏ô</label>
              <button onclick="copyResult('outMahan')" style="background:#576b91; margin-top:0px; padding:6px; font-size:13px;">üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</button> 
              <div id="outMahan" class="pro-result">‡∏£‡∏≠‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...</div>
            </div>

          </div>
        </div>
      </div>
  </div>
  
  <div id="phichaisongkram" class="app-section">
    <h2 style="text-align:center; color:#ef4444;">7Ô∏è‚É£ ‡∏î‡∏ß‡∏á‡∏û‡∏¥‡∏ä‡∏±‡∏¢‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°</h2>
    <p>‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏ß‡∏á‡∏û‡∏¥‡∏ä‡∏±‡∏¢‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°...</p>
  </div>


  <div id="yamsamtah" class="app-section">
      <h2 style="color:#10b981;">8Ô∏è‚É£ ‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏ï‡∏≤</h2>
      <p style="color:#fbbf24; font-weight:bold;">‡πÉ‡∏ä‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ "‡πÉ‡∏™-‡∏õ‡∏≠‡∏î-‡∏Å‡∏£‡∏£‡∏°" ‡∏ï‡∏≤‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î</p>
      
      <div class="profile-manager">
          <h3 style="margin-bottom:15px; color:#1f2937;">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏° (‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å)</h3>
          
          <div class="info-grid"> 
              <div class="info-item" style="border-left-color: #3b82f6;">
                  <span class="info-label">üåö ‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô / ‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°</span>
                  <span class="info-value" id="yamLunarPhase">...</span>
              </div>
          </div>
          
          <div class="info-grid"> 
              <div class="info-item" style="border-left-color: #3b82f6;">
                  <span class="info-label">‚è∞ ‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö (‡∏¢‡∏≤‡∏°‡∏≠‡∏±‡∏è‡∏ê‡∏Å‡∏≤‡∏•)</span>
                  <span class="info-value" id="yamAttakarn">...</span>
              </div>
          </div>

          <div style="margin-top:20px;">
              <label class="pro-label">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ (‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÄ‡∏î‡∏µ‡∏¢‡∏ß)</label>
              <textarea id="yamQuestion" rows="2" placeholder="‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì"></textarea>
          </div>

          <div class="pro-row" style="margin-top:20px;">
              <button class="big-btn" style="background:#059669; flex:1;" onclick="predictYam(1)">üîÆ ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å</button>
              <button class="big-btn" style="background:#d97706; flex:1;" onclick="predictYam(2)">üîÆ ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏à‡∏£</button>
          </div>

          <div class="prediction-box" id="yamResultBox" style="margin-top:20px; display:none; border-left-color:#ef4444;">
              <h3 style="color:#1e293b; margin-bottom:10px;">‚ú® ‡∏ú‡∏•‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢ (‡πÉ‡∏™ - ‡∏õ‡∏≠‡∏î - ‡∏Å‡∏£‡∏£‡∏°)</h3>
              <div id="yamResultOutput">...</div>
              <p id="yamResultExplanation" style="font-size:0.95rem; margin-top:10px; color:#475569; line-height:1.5;">
                  ...
              </p>
          </div>

          <p style="font-size:12px; color:#94a3b8; margin-top:20px;">
              <b style="color:#059669;">‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å:</b> ‡πÉ‡∏ä‡πâ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å (‡∏¢‡∏≤‡∏°‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î)<br>
              <b style="color:#d97706;">‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏à‡∏£:</b> ‡∏ô‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏ä‡∏∏‡∏î‡πÉ‡∏´‡∏°‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏¢‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡∏ì ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏î)
          </p>
      </div>
  </div>
  </div>

<script src="script.js"></script>

<script>
    // ** Global State ‡πÅ‡∏•‡∏∞‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô **
    window.currentLunarPhase = "";    
    window.currentYamIndex = -1;      
    window.initialYamIndex = -1;      
    window.initialLunarPhase = "";    
    
    function toggleMenu() { 
        document.getElementById('sidebar').classList.toggle('active'); 
        document.getElementById('overlay').classList.toggle('active'); 
    }

    function showSection(id) { 
        document.querySelectorAll('.app-section, div[id$="app-section"]').forEach(e => e.classList.remove('active')); 
        document.getElementById(id).classList.add('active'); 
        
        document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
        const activeLink = document.querySelector(`#link-${id}`);
        if (activeLink) activeLink.classList.add('active');
        
        if (id === 'yamsamtah') {
            // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏π‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô/‡πÅ‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏¢‡∏≤‡∏°
            if (typeof updateHomeClock === 'function') {
                updateHomeClock(); 
            }
            
            document.getElementById('yamLunarPhase').textContent = window.currentLunarPhase || "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...";
            const thaiYamTextEl = document.getElementById('thaiYam');
            const thaiYamText = thaiYamTextEl ? thaiYamTextEl.textContent : "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì...";
            document.getElementById('yamAttakarn').textContent = thaiYamText;
            
            if (window.initialYamIndex === -1 && window.currentYamIndex !== -1) { 
                window.initialYamIndex = window.currentYamIndex; 
                window.initialLunarPhase = window.currentLunarPhase;
            }
            
            const resultBox = document.getElementById('yamResultBox');
            if(resultBox) resultBox.style.display = 'none'; 
            const questionArea = document.getElementById('yamQuestion');
            if(questionArea) questionArea.value = '';
        }
        
        // ‡∏õ‡∏¥‡∏î Sidebar ‡∏´‡∏≤‡∏Å‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏¢‡∏π‡πà
        if (document.getElementById('sidebar').classList.contains('active')) {
            toggleMenu(); 
        }
    }
    
    // ** ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÉ‡∏ô script.js ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡πÉ‡∏´‡πâ Home ‡πÅ‡∏•‡∏∞ Menu 8 ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô **
    // (‡∏´‡∏≤‡∏Å‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ SuriyayartEngine ‡∏ó‡∏µ‡πà‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ä‡∏∏‡∏î‡∏ô‡∏µ‡πâ‡∏ã‡πâ‡∏≥)
    
    // [START] ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ (‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏ô script.js)
    function getAttakarnYam(now) {
        // ... (‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏¢‡∏≤‡∏°‡∏≠‡∏±‡∏è‡∏ê‡∏Å‡∏≤‡∏•‡πÄ‡∏î‡∏¥‡∏°)
        const dayOfWeek = now.getDay(); 
        const hour = now.getHours();
        const minute = now.getMinutes();
        const totalMinutes = hour * 60 + minute;
        const planetNames = ["‡∏≠‡∏≤‡∏ó‡∏¥‡∏ï‡∏¢‡πå", "‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå", "‡∏≠‡∏±‡∏á‡∏Ñ‡∏≤‡∏£", "‡∏û‡∏∏‡∏ò", "‡∏û‡∏§‡∏´‡∏±‡∏™", "‡∏®‡∏∏‡∏Å‡∏£‡πå", "‡πÄ‡∏™‡∏≤‡∏£‡πå", "‡∏£‡∏≤‡∏´‡∏π"];
        const thaksaPositions = ["‡∏ö‡∏£‡∏¥‡∏ß‡∏≤‡∏£", "‡∏≠‡∏≤‡∏¢‡∏∏", "‡πÄ‡∏î‡∏ä", "‡∏®‡∏£‡∏µ", "‡∏°‡∏π‡∏•‡∏∞", "‡∏≠‡∏∏‡∏ï‡∏™‡∏≤‡∏´‡∏∞", "‡∏°‡∏ô‡∏ï‡∏£‡∏µ", "‡∏Å‡∏≤‡∏•‡∏Å‡∏¥‡∏ì‡∏µ"];
        let baseDayIndex = dayOfWeek;
        if (hour >= 0 && hour < 6) { baseDayIndex = (dayOfWeek === 0) ? 6 : dayOfWeek - 1; }
        const startPlanetIndex = baseDayIndex; 
        let thaksaSequence = [];
        for(let i=0; i<8; i++){
            const planetIdx = (startPlanetIndex + i) % 8;
            thaksaSequence.push(planetNames[planetIdx]);
        }
        const YAM_PERIOD_MINUTES = 90;
        let isDay = hour >= 6 && hour < 18;
        let yamIndex = -1;
        let currentThaksaPositions = [...thaksaPositions];

        if (isDay) {
            const minutesSinceDayStart = totalMinutes - (6 * 60); 
            yamIndex = Math.floor(minutesSinceDayStart / YAM_PERIOD_MINUTES);
        } else {
            const isTodayNight = hour >= 18; 
            let minutesSinceNightStart;
            if (isTodayNight) minutesSinceNightStart = totalMinutes - (18 * 60); 
            else minutesSinceNightStart = (6 * 60) + totalMinutes; 
            yamIndex = Math.floor(minutesSinceNightStart / YAM_PERIOD_MINUTES);
            thaksaSequence.reverse(); 
            currentThaksaPositions.reverse(); 
        }

        window.currentYamIndex = yamIndex; 

        if (yamIndex >= 0 && yamIndex < 8) {
            const yamName = thaksaSequence[yamIndex];
            const thaksaName = currentThaksaPositions[yamIndex];
            return `‡∏¢‡∏≤‡∏° ${yamIndex + 1} (${yamName} - ${thaksaName})`;
        }
        
        window.currentYamIndex = -1;
        return "‡∏ô‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏¢‡∏≤‡∏°";
    }

    function updateHomeClock() {
        const now = new Date();
        // ... (‡πÇ‡∏Ñ‡πâ‡∏î‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà)
        const hour = now.getHours();
        const minute = now.getMinutes();
        const second = now.getSeconds();
        // (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï realTime, realDate, moonRerk, rerkBun, rerkLa)
        
        // ‡∏à‡∏≥‡∏•‡∏≠‡∏á/‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô/‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏° (‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ SuriyayartEngine ‡∏à‡∏£‡∏¥‡∏á)
        const day = now.getDate();
        const lunarDay = (day % 15) + 1;
        const isWaxing = (day % 2 === 0); // ‡∏à‡∏≥‡∏•‡∏≠‡∏á
        window.currentLunarPhase = isWaxing ? '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô' : '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°';
        
        const lunarPhaseEl = document.getElementById('lunarPhase');
        if(lunarPhaseEl) lunarPhaseEl.textContent = `${window.currentLunarPhase} ${lunarDay} ‡∏Ñ‡πà‡∏≥`;

        // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏¢‡∏≤‡∏°
        const thaiYamEl = document.getElementById('thaiYam');
        if(thaiYamEl) thaiYamEl.textContent = getAttakarnYam(now);
    }
    // [END] ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ
    
    // 6. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡πÉ‡∏™-‡∏õ‡∏≠‡∏î-‡∏Å‡∏£‡∏£‡∏°
    function getPredictionResult(lunarPhase, yamIndex) {
        if (yamIndex < 0 || yamIndex > 7) return { symbol: '‡∏Å‡∏£‡∏£‡∏°', meaning: '‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô', rawMeaning: '‡∏´‡∏ç‡∏¥‡∏á‡πÄ‡∏î‡πà‡∏ô' };
        
        // ‡∏Ñ‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô ‡∏ô‡∏±‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏ó‡∏µ‡πà ‡∏õ‡∏≠‡∏î ‡∏ß‡∏ô‡πÑ‡∏õ‡∏´‡∏≤ ‡∏Å‡∏£‡∏£‡∏° ‡πÉ‡∏™ (‡∏õ‡∏≠‡∏î:0, ‡πÉ‡∏™:1, ‡∏Å‡∏£‡∏£‡∏°:2)
        // ‡∏Ñ‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å ‡∏Å‡∏£‡∏£‡∏° ‡πÑ‡∏õ‡∏´‡∏≤ ‡∏õ‡∏≠‡∏î ‡πÑ‡∏õ‡∏´‡∏≤ ‡πÉ‡∏™ (‡∏Å‡∏£‡∏£‡∏°:0, ‡∏õ‡∏≠‡∏î:1, ‡πÉ‡∏™:2)
        const YAM_SEQUENCE = {
            '‡∏Ç‡πâ‡∏≤‡∏á‡∏Ç‡∏∂‡πâ‡∏ô': ['‡∏õ‡∏≠‡∏î', '‡πÉ‡∏™', '‡∏Å‡∏£‡∏£‡∏°'], 
            '‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°': ['‡∏Å‡∏£‡∏£‡∏°', '‡∏õ‡∏≠‡∏î', '‡πÉ‡∏™']  
        };
        
        const sequence = YAM_SEQUENCE[lunarPhase] || YAM_SEQUENCE['‡∏Ç‡πâ‡∏≤‡∏á‡πÅ‡∏£‡∏°'];
        const positionIndex = yamIndex % sequence.length;
        const finalSymbol = sequence[positionIndex];

        let interpretation = "";
        if (finalSymbol === '‡πÉ‡∏™') {
            interpretation = `**${finalSymbol.toUpperCase()}** (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢: direct answer / yes / come / male) - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° **‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à** ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏´‡∏ß‡∏±‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô`;
        } else if (finalSymbol === '‡∏õ‡∏≠‡∏î') {
            interpretation = `**${finalSymbol.toUpperCase()}** (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢: blocked / not yet / a little slow / leaning towards female) - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏à‡∏∞ **‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤** ‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ ‡∏´‡∏£‡∏∑‡∏≠‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏≠‡∏±‡∏ô‡∏Ñ‡∏ß‡∏£`;
        } else { // ‡∏Å‡∏£‡∏£‡∏°
            interpretation = `**${finalSymbol.toUpperCase()}** (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢: flipped / no / not coming / female dominant) - ‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° **‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à** ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏à‡∏∞ **‡∏û‡∏•‡∏¥‡∏Å‡∏ú‡∏±‡∏ô‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≤‡∏°**`;
        }

        return {
            symbol: finalSymbol,
            meaning: interpretation
        };
    }

    function predictYam(mode) {
        const question = document.getElementById('yamQuestion').value.trim();
        if (!question) {
            alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ñ‡πà‡∏∞");
            return;
        }
        
        let currentPhase;
        let currentYamIdx;
        let predictionType;

        if (mode === 1) { // ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å (‡∏¢‡∏≤‡∏°‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î)
            currentPhase = window.initialLunarPhase;
            currentYamIdx = window.initialYamIndex;
            predictionType = "‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏Å (‡∏¢‡∏≤‡∏°‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î)";
            
            if (currentYamIdx === -1) {
                alert("‚ö†Ô∏è ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏Å‡∏≥‡πÄ‡∏ô‡∏¥‡∏î ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π '‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏ï‡∏≤' ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏ö‡∏¢‡∏≤‡∏°‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ");
                return;
            }
        } else { // ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏à‡∏£
            if (typeof updateHomeClock === 'function') updateHomeClock();
            currentPhase = window.currentLunarPhase;
            currentYamIdx = window.currentYamIndex;
            predictionType = "‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏à‡∏£ (‡∏¢‡∏≤‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)";
        }
        
        if (currentYamIdx < 0) {
            alert("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏∞‡∏ö‡∏∏‡∏¢‡∏≤‡∏°‡∏≠‡∏±‡∏è‡∏ê‡∏Å‡∏≤‡∏•‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ (‡∏ô‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á 8 ‡∏¢‡∏≤‡∏°)");
            return;
        }
        
        const result = getPredictionResult(currentPhase, currentYamIdx);
        
        const resultBox = document.getElementById('yamResultBox');
        if(resultBox) resultBox.style.display = 'block';
        
        const outputEl = document.getElementById('yamResultOutput');
        const explEl = document.getElementById('yamResultExplanation');
        
        if(outputEl) outputEl.innerHTML = `<h2 style="color:#ef4444; margin-bottom:0;">${result.symbol.toUpperCase()}</h2>`;
        if(explEl) explEl.innerHTML = `
            <p><b>‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:</b> "${question}"</p>
            <p style="font-weight:bold; color:#10b981;">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢: ${result.meaning}</p>
            <p style="font-size:12px; color:#6b7280;">(${predictionType}: ‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å ${currentPhase} ‡∏¢‡∏≤‡∏°‡∏ó‡∏µ‡πà ${currentYamIdx + 1})</p>
        `;
    }
    
    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
    if (typeof updateHomeClock === 'function') {
        updateHomeClock();
        setInterval(updateHomeClock, 1000); 
    }
</script>

</body>
</html>
